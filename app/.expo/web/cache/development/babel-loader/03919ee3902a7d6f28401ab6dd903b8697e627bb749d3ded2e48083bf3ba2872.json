{"ast":null,"code":"const BACKEND = 'http://localhost:4000';\nasync function safeFetch(url, opts = {}) {\n  const res = await fetch(url, opts);\n  if (!res.ok) {\n    const text = await res.text().catch(() => null);\n    throw new Error(`Request failed ${res.status} ${res.statusText} ${text ? '- ' + text : ''}`);\n  }\n  return res.json().catch(() => ({}));\n}\nexport async function fetchNearest(lat, lng, limit = 5) {\n  const url = `${BACKEND}/api/pharmacies?lat=${encodeURIComponent(lat)}&lng=${encodeURIComponent(lng)}&limit=${encodeURIComponent(limit)}`;\n  return safeFetch(url);\n}\nexport async function fetchAll() {\n  const url = `${BACKEND}/api/pharmacies`;\n  return safeFetch(url);\n}\nexport async function createPharmacy(payload) {\n  return safeFetch(`${BACKEND}/api/pharmacies`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  });\n}\nexport async function updatePharmacy(id, payload) {\n  return safeFetch(`${BACKEND}/api/pharmacies/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  });\n}\nexport async function deletePharmacy(id) {\n  return safeFetch(`${BACKEND}/api/pharmacies/${id}`, {\n    method: 'DELETE'\n  });\n}","map":{"version":3,"names":["BACKEND","safeFetch","url","opts","res","fetch","ok","text","catch","Error","status","statusText","json","fetchNearest","lat","lng","limit","encodeURIComponent","fetchAll","createPharmacy","payload","method","headers","body","JSON","stringify","updatePharmacy","id","deletePharmacy"],"sources":["C:/Users/other/PERSONAL PROJECTS/pharmacy-tracker/app/src/api.js"],"sourcesContent":["// app/src/api.js\r\n// Change BACKEND to your machine's LAN IP when testing on a physical device\r\n// e.g. const BACKEND = 'http://192.168.1.100:4000';\r\nconst BACKEND = 'http://localhost:4000';\r\n\r\nasync function safeFetch(url, opts = {}) {\r\n  const res = await fetch(url, opts);\r\n  if (!res.ok) {\r\n    const text = await res.text().catch(() => null);\r\n    throw new Error(`Request failed ${res.status} ${res.statusText} ${text ? '- ' + text : ''}`);\r\n  }\r\n  return res.json().catch(() => ({}));\r\n}\r\n\r\nexport async function fetchNearest(lat, lng, limit = 5) {\r\n  const url = `${BACKEND}/api/pharmacies?lat=${encodeURIComponent(lat)}&lng=${encodeURIComponent(lng)}&limit=${encodeURIComponent(limit)}`;\r\n  return safeFetch(url);\r\n}\r\n\r\nexport async function fetchAll() {\r\n  const url = `${BACKEND}/api/pharmacies`;\r\n  return safeFetch(url);\r\n}\r\n\r\nexport async function createPharmacy(payload) {\r\n  return safeFetch(`${BACKEND}/api/pharmacies`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(payload)\r\n  });\r\n}\r\n\r\nexport async function updatePharmacy(id, payload) {\r\n  return safeFetch(`${BACKEND}/api/pharmacies/${id}`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(payload)\r\n  });\r\n}\r\n\r\nexport async function deletePharmacy(id) {\r\n  return safeFetch(`${BACKEND}/api/pharmacies/${id}`, { method: 'DELETE' });\r\n}\r\n"],"mappings":"AAGA,MAAMA,OAAO,GAAG,uBAAuB;AAEvC,eAAeC,SAASA,CAACC,GAAG,EAAEC,IAAI,GAAG,CAAC,CAAC,EAAE;EACvC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,EAAEC,IAAI,CAAC;EAClC,IAAI,CAACC,GAAG,CAACE,EAAE,EAAE;IACX,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACG,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,IAAI,CAAC;IAC/C,MAAM,IAAIC,KAAK,CAAC,kBAAkBL,GAAG,CAACM,MAAM,IAAIN,GAAG,CAACO,UAAU,IAAIJ,IAAI,GAAG,IAAI,GAAGA,IAAI,GAAG,EAAE,EAAE,CAAC;EAC9F;EACA,OAAOH,GAAG,CAACQ,IAAI,CAAC,CAAC,CAACJ,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AACrC;AAEA,OAAO,eAAeK,YAAYA,CAACC,GAAG,EAAEC,GAAG,EAAEC,KAAK,GAAG,CAAC,EAAE;EACtD,MAAMd,GAAG,GAAG,GAAGF,OAAO,uBAAuBiB,kBAAkB,CAACH,GAAG,CAAC,QAAQG,kBAAkB,CAACF,GAAG,CAAC,UAAUE,kBAAkB,CAACD,KAAK,CAAC,EAAE;EACxI,OAAOf,SAAS,CAACC,GAAG,CAAC;AACvB;AAEA,OAAO,eAAegB,QAAQA,CAAA,EAAG;EAC/B,MAAMhB,GAAG,GAAG,GAAGF,OAAO,iBAAiB;EACvC,OAAOC,SAAS,CAACC,GAAG,CAAC;AACvB;AAEA,OAAO,eAAeiB,cAAcA,CAACC,OAAO,EAAE;EAC5C,OAAOnB,SAAS,CAAC,GAAGD,OAAO,iBAAiB,EAAE;IAC5CqB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,OAAO;EAC9B,CAAC,CAAC;AACJ;AAEA,OAAO,eAAeM,cAAcA,CAACC,EAAE,EAAEP,OAAO,EAAE;EAChD,OAAOnB,SAAS,CAAC,GAAGD,OAAO,mBAAmB2B,EAAE,EAAE,EAAE;IAClDN,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,OAAO;EAC9B,CAAC,CAAC;AACJ;AAEA,OAAO,eAAeQ,cAAcA,CAACD,EAAE,EAAE;EACvC,OAAO1B,SAAS,CAAC,GAAGD,OAAO,mBAAmB2B,EAAE,EAAE,EAAE;IAAEN,MAAM,EAAE;EAAS,CAAC,CAAC;AAC3E","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}